<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Bottom Navigation Test</title>
    
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --color-foreground: #000;
            --color-foreground-rgb: 0, 0, 0;
            --color-accent: #007AFF;
            --gradient-background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
        }
        
        /* Mock Content */
        .mock-header {
            background: white;
            padding: 16px;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .mock-content {
            padding: 20px;
            padding-bottom: 100px;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .product-image {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #ccc;
        }
        
        .product-info {
            padding: 12px;
        }
        
        .product-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .product-price {
            font-size: 16px;
            color: #007AFF;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .button {
            display: inline-block;
            padding: 12px 24px;
            background: var(--gradient-background);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            text-align: center;
        }
        
        .button--primary {
            background: var(--gradient-background);
        }
        
        /* Mock translations */
        .mock-translations {
            display: none;
        }
    </style>
    
    <!-- Include the actual CSS files -->
    <link rel="stylesheet" href="../../shopify-theme/assets/mobile-bottom-navigation.css">
    <link rel="stylesheet" href="../../shopify-theme/assets/mobile-touch-enhancements.css">
</head>
<body>
    <!-- Mock Header -->
    <header class="mock-header">
        <h1>Perkie Prints</h1>
    </header>
    
    <!-- Mock Content -->
    <main class="mock-content" id="MainContent">
        <h2 class="section-title">Featured Products</h2>
        
        <div class="product-grid">
            <div class="product-card">
                <div class="product-image">üêï</div>
                <div class="product-info">
                    <h3 class="product-title">Pet Portrait Canvas</h3>
                    <p class="product-price">$39.99</p>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">üêà</div>
                <div class="product-info">
                    <h3 class="product-title">Custom Pet Mug</h3>
                    <p class="product-price">$19.99</p>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">ü¶Æ</div>
                <div class="product-info">
                    <h3 class="product-title">Pet Photo Pillow</h3>
                    <p class="product-price">$29.99</p>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">üêï‚Äçü¶∫</div>
                <div class="product-info">
                    <h3 class="product-title">Acrylic Pet Stand</h3>
                    <p class="product-price">$24.99</p>
                </div>
            </div>
        </div>
        
        <h2 class="section-title">About Our Products</h2>
        <p>Transform your favorite pet photos into beautiful custom products. Our AI-powered background removal ensures your pet looks perfect on every item.</p>
        
        <div style="height: 800px; display: flex; align-items: center; justify-content: center; color: #999;">
            <p>Scroll down to test navigation persistence</p>
        </div>
    </main>
    
    <!-- Mobile Bottom Navigation (Simplified HTML version) -->
    <mobile-bottom-navigation>
        <nav class="mobile-nav-bar" role="navigation" aria-label="Mobile navigation">
            <a href="/" class="mobile-nav-item active" data-nav-id="home" aria-label="Home">
                <div class="mobile-nav-icon">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                </div>
                <span class="mobile-nav-label">Home</span>
            </a>
            
            <a href="/collections/all" class="mobile-nav-item" data-nav-id="shop" data-trigger-sheet="shop" aria-label="Shop">
                <div class="mobile-nav-icon">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </div>
                <span class="mobile-nav-label">Shop</span>
            </a>
            
            <a href="#" class="mobile-nav-item" data-nav-id="my-pets" data-trigger-sheet="my-pets" aria-label="My Pets">
                <div class="mobile-nav-icon">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <span class="mobile-nav-label">My Pets</span>
                <span class="nav-badge">2</span>
            </a>
            
            <a href="/cart" class="mobile-nav-item" data-nav-id="cart" data-trigger-sheet="cart" aria-label="Cart">
                <div class="mobile-nav-icon">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span class="nav-badge">3</span>
                </div>
                <span class="mobile-nav-label">Cart</span>
            </a>
            
            <a href="/account" class="mobile-nav-item" data-nav-id="account" aria-label="Account">
                <div class="mobile-nav-icon">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                </div>
                <span class="mobile-nav-label">Account</span>
            </a>
            
            <div class="mobile-nav-indicator" aria-hidden="true"></div>
        </nav>
        
        <!-- Shop Categories Bottom Sheet -->
        <div class="bottom-sheet" data-sheet-id="shop" role="dialog" aria-labelledby="shop-sheet-title" aria-hidden="true">
            <div class="bottom-sheet-header">
                <h2 id="shop-sheet-title" class="bottom-sheet-title">Shop Categories</h2>
                <button class="bottom-sheet-close" aria-label="Close">
                    <svg width="20" height="20" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 5l10 10M15 5L5 15"/>
                    </svg>
                </button>
            </div>
            <div class="bottom-sheet-content">
                <div class="category-grid">
                    <a href="#" class="category-item">
                        <div class="product-image">üñºÔ∏è</div>
                        <span class="category-item-label">Canvas Prints</span>
                    </a>
                    <a href="#" class="category-item">
                        <div class="product-image">‚òï</div>
                        <span class="category-item-label">Mugs</span>
                    </a>
                    <a href="#" class="category-item">
                        <div class="product-image">üõèÔ∏è</div>
                        <span class="category-item-label">Pillows</span>
                    </a>
                    <a href="#" class="category-item">
                        <div class="product-image">üëï</div>
                        <span class="category-item-label">Apparel</span>
                    </a>
                    <a href="#" class="category-item">
                        <div class="product-image">üì±</div>
                        <span class="category-item-label">Phone Cases</span>
                    </a>
                    <a href="#" class="category-item">
                        <div class="product-image">üéÅ</div>
                        <span class="category-item-label">Gift Sets</span>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- My Pets Bottom Sheet -->
        <div class="bottom-sheet" data-sheet-id="my-pets" role="dialog" aria-labelledby="pets-sheet-title" aria-hidden="true">
            <div class="bottom-sheet-header">
                <h2 id="pets-sheet-title" class="bottom-sheet-title">My Pets</h2>
                <button class="bottom-sheet-close" aria-label="Close">
                    <svg width="20" height="20" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 5l10 10M15 5L5 15"/>
                    </svg>
                </button>
            </div>
            <div class="bottom-sheet-content">
                <div class="pets-gallery">
                    <div class="pets-grid">
                        <div class="pet-item" data-pet-id="1">
                            <div class="pet-item-image">
                                <div class="product-image">üêï</div>
                            </div>
                            <div class="pet-item-info">
                                <h4>Max</h4>
                                <p class="pet-item-date">Today</p>
                            </div>
                            <div class="pet-item-actions">
                                <button class="pet-item-action" data-action="use" aria-label="Use this pet">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M15 7L7.5 14.5L4 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <button class="pet-item-action" data-action="delete" aria-label="Delete this pet">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M6 6L14 14M14 6L6 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="pet-item" data-pet-id="2">
                            <div class="pet-item-image">
                                <div class="product-image">üêà</div>
                            </div>
                            <div class="pet-item-info">
                                <h4>Luna</h4>
                                <p class="pet-item-date">Yesterday</p>
                            </div>
                            <div class="pet-item-actions">
                                <button class="pet-item-action" data-action="use" aria-label="Use this pet">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M15 7L7.5 14.5L4 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <button class="pet-item-action" data-action="delete" aria-label="Delete this pet">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M6 6L14 14M14 6L6 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    <a href="/pages/pet-background-remover" class="pets-add-button">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Add New Pet</span>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Cart Quick View Bottom Sheet -->
        <div class="bottom-sheet" data-sheet-id="cart" role="dialog" aria-labelledby="cart-sheet-title" aria-hidden="true">
            <div class="bottom-sheet-header">
                <h2 id="cart-sheet-title" class="bottom-sheet-title">Cart</h2>
                <button class="bottom-sheet-close" aria-label="Close">
                    <svg width="20" height="20" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 5l10 10M15 5L5 15"/>
                    </svg>
                </button>
            </div>
            <div class="bottom-sheet-content">
                <div class="cart-items">
                    <div class="cart-item" data-line-item="1">
                        <div class="cart-item-image">
                            <div class="product-image">üñºÔ∏è</div>
                        </div>
                        <div class="cart-item-details">
                            <h3 class="cart-item-title">Pet Portrait Canvas</h3>
                            <p class="cart-item-variant">16x20 inches</p>
                            <div class="cart-item-price">$39.99</div>
                            <div class="cart-item-quantity">
                                <input type="number" value="1" min="0">
                                <button class="cart-item-remove" data-cart-action="remove">Remove</button>
                            </div>
                        </div>
                    </div>
                    <div class="cart-item" data-line-item="2">
                        <div class="cart-item-image">
                            <div class="product-image">‚òï</div>
                        </div>
                        <div class="cart-item-details">
                            <h3 class="cart-item-title">Custom Pet Mug</h3>
                            <p class="cart-item-variant">White, 11oz</p>
                            <div class="cart-item-price">$19.99</div>
                            <div class="cart-item-quantity">
                                <input type="number" value="2" min="0">
                                <button class="cart-item-remove" data-cart-action="remove">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cart-summary">
                    <div class="cart-total">
                        <span class="cart-total-label">Subtotal</span>
                        <span class="cart-total-price">$79.97</span>
                    </div>
                    <button class="cart-checkout-button">Checkout</button>
                </div>
            </div>
        </div>
    </mobile-bottom-navigation>
    
    <!-- Include the actual JS files -->
    <script src="../../shopify-theme/assets/mobile-bottom-navigation.js"></script>
    <script src="../../shopify-theme/assets/mobile-touch-enhancements.js"></script>
    
    <script>
        // Mock some functionality for testing
        document.addEventListener('DOMContentLoaded', function() {
            // Add mobile-nav-active class for testing
            const nav = document.querySelector('mobile-bottom-navigation');
            if (nav) {
                nav.classList.add('mobile-nav-active');
                document.body.classList.add('has-mobile-nav');
            }
            
            // Mock routes object
            window.routes = {
                root_url: '/',
                all_products_collection_url: '/collections/all',
                cart_url: '/cart',
                account_url: '/account'
            };
            
            // Test navigation
            console.log('Mobile Bottom Navigation Test Page Loaded');
            console.log('Try clicking on different nav items and dragging the bottom sheets');
        });
    </script>
</body>
</html>