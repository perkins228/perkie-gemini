<ks-product-inventory
  id="Inventory-{{ section.id }}"
  class="ks__product__inventory product__inventory{% if block.settings.text_style == 'uppercase' %} caption-with-letter-spacing{% elsif block.settings.text_style == 'subtitle' %} subtitle{% endif %}{% if product.selected_or_first_available_variant.inventory_management != 'shopify' %} visibility-hidden{% endif %}"
  role="status"
  {{ block.shopify_attributes }}>
  {%- if product.selected_or_first_available_variant.inventory_management == 'shopify' -%}
    {%- if product.selected_or_first_available_variant.inventory_quantity > 0 -%}
      {%- if product.selected_or_first_available_variant.inventory_quantity
          <= block.settings.inventory_threshold
      -%}
        <div class="ks__product__inventory--inner">
          <span class="svg-wrapper" style="color: rgb(238, 148, 65)">
            {{- 'icon-inventory-status.svg' | inline_asset_content -}}
          </span>
          {%- if block.settings.show_inventory_quantity -%}
            {{-
              'products.product.inventory_low_stock_show_count'
              | t: quantity: product.selected_or_first_available_variant.inventory_quantity
            -}}
          {%- else -%}
            {{- 'products.product.inventory_low_stock' | t -}}
          {%- endif -%}
        </div>
        <div 
          class="bs-progress" 
          style="--bs-progress-height: 6px; background-color: rgba(var(--color-foreground), .05);">
          <div 
            class="bs-progress-bar bs-progress-bar-animated bs-progress-bar-striped" 
            role="progressbar" 
            aria-valuenow="7" 
            aria-valuemin="0" 
            aria-valuemax="100" 
            data-width="7%" 
            style="background-color: rgb(238, 148, 65); width: 0%;">
          </div>
        </div>
      {%- else -%}
        <div class="ks__product__inventory--inner">
          <span class="svg-wrapper" style="color: rgb(62, 214, 96)">
            {{- 'icon-inventory-status.svg' | inline_asset_content -}}
          </span>
          {%- if block.settings.show_inventory_quantity -%}
            {{-
              'products.product.inventory_in_stock_show_count'
              | t: quantity: product.selected_or_first_available_variant.inventory_quantity
            -}}
          {%- else -%}
            {{- 'products.product.inventory_in_stock' | t -}}
          {%- endif -%}
        </div>
        <div 
          class="bs-progress" 
          style="--bs-progress-height: 6px; background-color: rgba(var(--color-foreground), .05);">
          <div 
            class="bs-progress-bar bs-progress-bar-animated bs-progress-bar-striped" 
            role="progressbar" 
            aria-valuenow="70" 
            aria-valuemin="0" 
            aria-valuemax="100" 
            data-width="70%" 
            style="background-color: rgb(62, 214, 96); width: 0%;">
          </div>
        </div>
      {%- endif -%}
    {%- else -%}
      {%- if product.selected_or_first_available_variant.inventory_policy == 'continue' -%}
        <div class="ks__product__inventory--inner">
          <span class="svg-wrapper" style="color: rgb(62, 214, 96)">
            {{- 'icon-inventory-status.svg' | inline_asset_content -}}
          </span>
          {{- 'products.product.inventory_out_of_stock_continue_selling' | t -}}
        </div>
        <div 
          class="bs-progress" 
          style="--bs-progress-height: 6px; background-color: rgba(var(--color-foreground), .05);">
          <div 
            class="bs-progress-bar bs-progress-bar-animated bs-progress-bar-striped" 
            role="progressbar" 
            aria-valuenow="70" 
            aria-valuemin="0" 
            aria-valuemax="100" 
            data-width="70%" 
            style="background-color: rgb(62, 214, 96); width: 0%;">
          </div>
        </div>
      {%- else -%}
        <div class="ks__product__inventory--inner">
          <span class="svg-wrapper" style="color: rgb(200, 200, 200)">
            {{- 'icon-inventory-status.svg' | inline_asset_content -}}
          </span>
          {{- 'products.product.inventory_out_of_stock' | t -}}
        </div>
        <div 
          class="bs-progress" 
          style="--bs-progress-height: 6px; background-color: rgba(var(--color-foreground), .05);">
          <div 
            class="bs-progress-bar bs-progress-bar-animated bs-progress-bar-striped" 
            role="progressbar" 
            aria-valuenow="0" 
            aria-valuemin="0" 
            aria-valuemax="100" 
            data-width="0%" 
            style="background-color: rgb(200, 200, 200); width: 0%;">
          </div>
        </div>
      {%- endif -%}
    {%- endif -%}
  {%- endif -%}
</ks-product-inventory>